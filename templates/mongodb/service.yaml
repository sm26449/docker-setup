name: mongodb
description: "NoSQL document database"

variables:
  MONGODB_PORT:
    default: "27017"
    description: "MongoDB port"
    prompt: true
  MONGO_INITDB_ROOT_USERNAME:
    default: "root"
    description: "Root username"
    prompt: true
  MONGO_INITDB_ROOT_PASSWORD:
    default: ""
    description: "Root password"
    generate: password
    prompt: true

compose: |
  ${SERVICE_NAME}:
    image: mongo:latest
    container_name: ${SERVICE_NAME}
    restart: unless-stopped
    ports:
      - "${MONGODB_PORT:-27017}:27017"
    environment:
      - MONGO_INITDB_ROOT_USERNAME=${MONGO_INITDB_ROOT_USERNAME:-root}
      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_INITDB_ROOT_PASSWORD}
    volumes:
      - ${DOCKER_ROOT}/${SERVICE_NAME}/data:/data/db
